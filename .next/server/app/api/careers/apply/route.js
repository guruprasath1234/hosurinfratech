"use strict";(()=>{var e={};e.id=458,e.ids=[458],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},8645:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>w,routeModule:()=>y,serverHooks:()=>h,staticGenerationAsyncStorage:()=>f});var a={};t.r(a),t.d(a,{POST:()=>g,runtime:()=>d});var i=t(9303),n=t(8716),o=t(670),s=t(7070),p=t(5748),l=t(337),u=t(5315),c=t.n(u),m=t(2048);let d="nodejs";async function g(e){let r=await e.formData(),t=r.get("jobId"),a=r.get("name"),i=r.get("email"),n=r.get("resume");if(!t||!a||!i||!n)return s.NextResponse.json({error:"Missing fields"},{status:400});let o=await n.arrayBuffer(),u=Buffer.from(o),d=c().join(process.cwd(),"public","uploads");await m.promises.mkdir(d,{recursive:!0});let g=c().join(d,`${Date.now()}-${n.name}`);return await m.promises.writeFile(g,new Uint8Array(u)),await (0,p.P)(),await l.J.create({title:"Application",location:"",department:"",type:"",description:"",resumePath:`/uploads/${c().basename(g)}`,applicantName:a,applicantEmail:i}),s.NextResponse.json({success:!0})}let y=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/careers/apply/route",pathname:"/api/careers/apply",filename:"route",bundlePath:"app/api/careers/apply/route"},resolvedPagePath:"C:\\Users\\HP\\Downloads\\website\\website(1)\\src\\app\\api\\careers\\apply\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:w,staticGenerationAsyncStorage:f,serverHooks:h}=y,v="/api/careers/apply/route";function x(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:f})}},5748:(e,r,t)=>{t.d(r,{P:()=>s});var a=t(1185),i=t.n(a);let n=process.env.MONGODB_URI;if(!n)throw Error("Please define the MONGODB_URI environment variable");let o=global.mongoose;async function s(){return o.conn||(o.promise||(o.promise=i().connect(n).then(e=>e)),o.conn=await o.promise),o.conn}o||(o=global.mongoose={conn:null,promise:null})},337:(e,r,t)=>{t.d(r,{J:()=>n});var a=t(1185);let i=new a.Schema({title:{type:String,required:!0},location:{type:String,required:!0},department:{type:String,required:!0},type:{type:String,required:!0},description:{type:String,required:!0},responsibilities:[{type:String}],requirements:[{type:String}],resumePath:String,applicantName:String,applicantEmail:String},{timestamps:!0}),n=a.models.Career||(0,a.model)("Career",i)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[276,972],()=>t(8645));module.exports=a})();